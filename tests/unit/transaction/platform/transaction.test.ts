import {
  AddPermissionlessDelegatorTransaction,
  AddPermissionlessValidatorTransaction,
  AddSupernetValidatorTransaction,
  CreateChainTransaction,
  CreateSupernetTransaction,
  ExportTransaction,
  ImportTransaction,
  PlatformExportTransaction,
  PlatformImportTransaction
} from '../../../../src'

describe('PlatformExportTransaction', () => {
  test.each([
    {
      description: 'Parsing from PlatformAPI hex data',
      data: '0x0000000000120000002e000000000000000000000000000000000000000000000000000000000000000000000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b56300000007000000024ce4d600000000000000000000000001000000014a68dd4dc1bafa2bbcd2d3ea2e69dff3cb739385000000016a645f7a6892d8c9989d13aa479a9d13b0fc0da97a0c069c35ee4826dc37575200000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b5630000000500000002540be4000000000100000000000000008f4b348b4e89d5d614c666bc9d2fed3c2366612efec49853898e6f7505b1768900000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b5630000000700000000068e7780000000000000000000000001000000014a68dd4dc1bafa2bbcd2d3ea2e69dff3cb739385000000010000000900000001ac3142816aff947dcdd338a64a2a24e2f1970c7d08bd9250518a4e7bb0272d2679c8f02ea63ea4f30d8c05d335f3c2572c7256135b4cc1357326f4764153e24f012afb91be'
    }
  ])('$description', async ({ data }) => {
    const parsed = PlatformExportTransaction.parse(data)
    expect(parsed).toBeInstanceOf(ExportTransaction)
  })
})

describe('PlatformImportTransaction', () => {
  test.each([
    {
      description: 'Parsing from PlatformAPI hex data',
      data: '0x0000000000110000002e000000000000000000000000000000000000000000000000000000000000000000000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b56300000007002386f26fc1000000000000000000000000000100000001328a3e6647df8b2581ac8e3f538327843c3bb26d00000000000000008f4b348b4e89d5d614c666bc9d2fed3c2366612efec49853898e6f7505b176890000000101bc2afd70b09ae0b47fc7f4a210d9178c636d7ceb68fcf7c5fe5ad220c5ce0c00000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b56300000005002386f27059968000000001000000000000000100000009000000016d9f64bca2a1dec995feb37e247d08ab3bcd1a3fd5ae5fb6230bf9b1e73093d314f9987a3cda2d5cb783ca33d86b645cf35c9d4859c0ab8e629c512af8416bcc00cc20962b'
    }
  ])('$description', async ({ data }) => {
    const parsed = PlatformImportTransaction.parse(data)
    expect(parsed).toBeInstanceOf(ImportTransaction)
  })
})

describe('CreateSupernetTx', () => {
  test.each([
    {
      description: 'Parsing from PlatformAPI hex data',
      data: '0x0000000000100000002e000000000000000000000000000000000000000000000000000000000000000000000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b563000000070000000002734dd8000000000000000000000001000000011083871f7bf3d99e3e698b4fd3823093ea8f0b92000000020741f8b3c333ae6581a815090cf000b8c0187d8db4413f2b38576b10d1519fbe00000000266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b5630000000500000000069f6b5800000001000000008e40067cedaa247f21a9505f37cf18867c8c3bc632b77e314ac7e43bc9b7197900000000266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b563000000050000000001c9c3800000000100000000000000000000000b000000000000000000000001000000011083871f7bf3d99e3e698b4fd3823093ea8f0b92000000020000000900000001a33d56e4797f207c56ec27c6b5ae5a3c6f11cc4d5dd790287f40728d82ecc26e0ea1ee8f08f25c8722b895a77c3da6fdc6d76c2243eb7435f35ed924443a1248010000000900000001a33d56e4797f207c56ec27c6b5ae5a3c6f11cc4d5dd790287f40728d82ecc26e0ea1ee8f08f25c8722b895a77c3da6fdc6d76c2243eb7435f35ed924443a124801d92ab042'
    }
  ])('$description', async ({ data }) => {
    const parsed = CreateSupernetTransaction.parse(data)
    expect(parsed).toBeInstanceOf(CreateSupernetTransaction)
  })
})

describe('AddSupernetValidatorTx', () => {
  test.each([
    {
      description: 'Parsing from PlatformAPI hex data',
      data: '0x00000000000d0000002e000000000000000000000000000000000000000000000000000000000000000000000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b56300000007000000011e1a300000000000000000000000000100000001a2bf83b7e3df10af5768a24edb16184418d07555000000015d9faffaef31d479a13a332aefcbaea94555dee6b8aa716e23cab22cf96d00a200000000266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b563000000050000000124101100000000010000000000000000cd41629ccf5de26a98b28d74f3844c090ac55aef000000006679acae00000000668c21ae00000000000000645d9faffaef31d479a13a332aefcbaea94555dee6b8aa716e23cab22cf96d00a20000000a0000000100000000000000020000000900000001696d02cde46c827a1aeb2765d3c3876ae6154771775cd41a347eb4289e52a9960f191b34bc3ade60bdca8e9c9ff921a7e04d2dd4c17fc0387f2c133c206639f3000000000900000001696d02cde46c827a1aeb2765d3c3876ae6154771775cd41a347eb4289e52a9960f191b34bc3ade60bdca8e9c9ff921a7e04d2dd4c17fc0387f2c133c206639f30009311321'
    }
  ])('$description', async ({ data }) => {
    const parsed = AddSupernetValidatorTransaction.parse(data)
    expect(parsed).toBeInstanceOf(AddSupernetValidatorTransaction)
  })
})

describe('CreateChainTx', () => {
  test.each([
    {
      description: 'Parsing from PlatformAPI hex data',
      data: '0x00000000000f0000002e000000000000000000000000000000000000000000000000000000000000000000000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b563000000070000000118244f0000000000000000000000000100000001a2bf83b7e3df10af5768a24edb16184418d0755500000001213b301cc5165831adedf24b6afbb986da9db36594a4f4240331a10f0931132100000000266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b56300000005000000011e1a30000000000100000000000000005d9faffaef31d479a13a332aefcbaea94555dee6b8aa716e23cab22cf96d00a2000c416b7361726120436861696e266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b56373757065726e657465766d00000000000000000000000000000000000000000000000000000003c57b22636f6e666967223a7b22636861696e4964223a3230323030312c22686f6d657374656164426c6f636b223a302c22656970313530426c6f636b223a302c2265697031353048617368223a22307832303836373939616565626561653133356332343663363530323163383262346531356132633435313334303939336161636664323735313838363531346630222c22656970313535426c6f636b223a302c22656970313538426c6f636b223a302c2262797a616e7469756d426c6f636b223a302c22636f6e7374616e74696e6f706c65426c6f636b223a302c2270657465727362757267426c6f636b223a302c22697374616e62756c426c6f636b223a302c226d756972476c6163696572426c6f636b223a302c2273757065726e657445564d54696d657374616d70223a302c22666565436f6e666967223a7b226761734c696d6974223a31353030303030302c22746172676574426c6f636b52617465223a322c226d696e42617365466565223a32353030303030303030302c22746172676574476173223a31353030303030302c22626173654665654368616e676544656e6f6d696e61746f72223a33362c226d696e426c6f636b476173436f7374223a302c226d6178426c6f636b476173436f7374223a313030303030302c22626c6f636b476173436f737453746570223a3230303030307d2c22616c6c6f77466565526563697069656e7473223a747275657d2c22616c6c6f63223a7b2264393739333435433961333066344632313136374236394537353163363643346562413563373139223a7b2262616c616e6365223a22307831303842324132433238303239303934303030303030227d7d2c226e6f6e6365223a22307830222c2274696d657374616d70223a22307830222c22657874726144617461223a2230783030222c226761734c696d6974223a223078453445314330222c22646966666963756c7479223a22307830222c226d697848617368223a22307830303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030222c22636f696e62617365223a22307830303030303030303030303030303030303030303030303030303030303030303030303030303030222c226e756d626572223a22307830222c2267617355736564223a22307830222c22706172656e7448617368223a22307830303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030227d0000000a000000010000000000000002000000090000000146cb4720eb0c21a35b4c517315135071e648e73be2327bc4e12e97ab3574a58252f9e94b304360991966212a4bbbb396062b965c73f2ccf6651e0d95b2486d4e01000000090000000146cb4720eb0c21a35b4c517315135071e648e73be2327bc4e12e97ab3574a58252f9e94b304360991966212a4bbbb396062b965c73f2ccf6651e0d95b2486d4e01dfa6c93c'
    }
  ])('$description', async ({ data }) => {
    const parsed = CreateChainTransaction.parse(data)
    expect(parsed).toBeInstanceOf(CreateChainTransaction)
  })
})

describe('AddPermissionlessValidatorTransaction', () => {
  test.each([
    {
      description: 'Parsing from PlatformAPI hex data',
      data: '0x0000000000190000002e000000000000000000000000000000000000000000000000000000000000000000000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b5630000000700000000010de9a8000000000000000000000001000000011efa97ef1ff043e4f7da45b1aeb06dfbf8677d3c0000000239ccb6ee711f1488cb8565ea55a893a97bb2a1a7f242788d9df4e7df3cadc0cf00000000266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b56300000005000000003b9aca00000000010000000039ccb6ee711f1488cb8565ea55a893a97bb2a1a7f242788d9df4e7df3cadc0cf00000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b5630000000500000000010de9a80000000100000000000000000e24ccc1a74f01fa4a60acc55b89e47a2b55ee390000000066742eaf00000000668e8c91000000003b9aca0000000000000000000000000000000000000000000000000000000000000000000000001c862881d58b87d740d4b6979cf7c6719acd259b812ddf56d06d0d021ee3abe43f18bcd89a169ee68749f95126e605ccfaaa450cbf39af5548c231be7ad213a93575c36acfb76a64a1cee093c26a8114aef793276872f42e3f3a2dd53c762f0957071322d1c9762a533dcad156491f9418b37f6b3d73707d17542cc10c5f75cd32c1361bbf10fae14b95c6d8f2a794cc1200000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b56300000007000000003b9aca00000000000000000000000001000000011efa97ef1ff043e4f7da45b1aeb06dfbf8677d3c0000000b000000000000000000000001000000011efa97ef1ff043e4f7da45b1aeb06dfbf8677d3c0000000b000000000000000000000001000000011efa97ef1ff043e4f7da45b1aeb06dfbf8677d3c0001d4c00000000200000009000000013fbac5bc73d4d871c16dea8998a885fb4d0d00d870997112eee7f1460b5299c77ffd0ce2525d24513bdd4f3dd910206e85bdf24c71479e189bef75e9979ca6900100000009000000013fbac5bc73d4d871c16dea8998a885fb4d0d00d870997112eee7f1460b5299c77ffd0ce2525d24513bdd4f3dd910206e85bdf24c71479e189bef75e9979ca6900115377636'
    }
  ])('$description', async ({ data }) => {
    const parsed = AddPermissionlessValidatorTransaction.parse(data)
    expect(parsed).toBeInstanceOf(AddPermissionlessValidatorTransaction)
  })
})

describe('AddPermissionlessDelegatorTransaction', () => {
  test.each([
    {
      description: 'Parsing from PlatformAPI hex data',
      data: '0x00000000001a0000002e000000000000000000000000000000000000000000000000000000000000000000000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b563000000070000000226f2b2f0000000000000000000000001000000014eabfc7c2777478e35893f1bc976690606609d2e0000000240c5426282568c885f900cee08362c3d663969d110a5e2da282bf0cae5beafdd00000000266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b5630000000500000000000f42400000000100000000cd95dc4f4eab6a9aeb7f26063c4927fac0966abc625913cf1ee1f1f0d2a951b500000000266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b56300000005000000022cd951b0000000010000000000000000243fbd5c5a5282ca9b8900b563bdc114ebbada3e0000000066742b8a000000006686a08a0000000005f5e100000000000000000000000000000000000000000000000000000000000000000000000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b563000000070000000005f5e100000000000000000000000001000000014eabfc7c2777478e35893f1bc976690606609d2e0000000b000000000000000000000001000000014eabfc7c2777478e35893f1bc976690606609d2e000000020000000900000001746c8ce2b238aa5e9be146ebcd5a9cf0babc7cc8385e98ddf072c39457f2f0060eb32992d81337ca341f729067ca42d6c9bccf549c2885531373d56a785cc7b3010000000900000001746c8ce2b238aa5e9be146ebcd5a9cf0babc7cc8385e98ddf072c39457f2f0060eb32992d81337ca341f729067ca42d6c9bccf549c2885531373d56a785cc7b301be2d293c'
    }
  ])('$description', async ({ data }) => {
    const parsed = AddPermissionlessDelegatorTransaction.parse(data)
    expect(parsed).toBeInstanceOf(AddPermissionlessDelegatorTransaction)
  })
})
