import {
  AddPermissionlessDelegatorTransaction,
  AddPermissionlessValidatorTransaction,
  CreateSupernetTransaction,
  ExportTransaction,
  ImportTransaction,
  PlatformExportTransaction,
  PlatformImportTransaction
} from '../../../../src'

describe('PlatformExportTransaction', () => {
  test.each([
    {
      description: 'Parsing from PlatformAPI hex data',
      data: '0x0000000000120000002e000000000000000000000000000000000000000000000000000000000000000000000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b56300000007000000024ce4d600000000000000000000000001000000014a68dd4dc1bafa2bbcd2d3ea2e69dff3cb739385000000016a645f7a6892d8c9989d13aa479a9d13b0fc0da97a0c069c35ee4826dc37575200000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b5630000000500000002540be4000000000100000000000000008f4b348b4e89d5d614c666bc9d2fed3c2366612efec49853898e6f7505b1768900000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b5630000000700000000068e7780000000000000000000000001000000014a68dd4dc1bafa2bbcd2d3ea2e69dff3cb739385000000010000000900000001ac3142816aff947dcdd338a64a2a24e2f1970c7d08bd9250518a4e7bb0272d2679c8f02ea63ea4f30d8c05d335f3c2572c7256135b4cc1357326f4764153e24f012afb91be'
    }
  ])('$description', async ({ data }) => {
    const parsed = PlatformExportTransaction.parse(data)
    expect(parsed).toBeInstanceOf(ExportTransaction)
  })
})

describe('PlatformImportTransaction', () => {
  test.each([
    {
      description: 'Parsing from PlatformAPI hex data',
      data: '0x0000000000110000002e000000000000000000000000000000000000000000000000000000000000000000000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b56300000007002386f26fc1000000000000000000000000000100000001328a3e6647df8b2581ac8e3f538327843c3bb26d00000000000000008f4b348b4e89d5d614c666bc9d2fed3c2366612efec49853898e6f7505b176890000000101bc2afd70b09ae0b47fc7f4a210d9178c636d7ceb68fcf7c5fe5ad220c5ce0c00000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b56300000005002386f27059968000000001000000000000000100000009000000016d9f64bca2a1dec995feb37e247d08ab3bcd1a3fd5ae5fb6230bf9b1e73093d314f9987a3cda2d5cb783ca33d86b645cf35c9d4859c0ab8e629c512af8416bcc00cc20962b'
    }
  ])('$description', async ({ data }) => {
    const parsed = PlatformImportTransaction.parse(data)
    expect(parsed).toBeInstanceOf(ImportTransaction)
  })
})

describe('CreateSupernetTx', () => {
  test.each([
    {
      description: 'Parsing from PlatformAPI hex data',
      data: '0x0000000000100000002e000000000000000000000000000000000000000000000000000000000000000000000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b563000000070000000002734dd8000000000000000000000001000000011083871f7bf3d99e3e698b4fd3823093ea8f0b92000000020741f8b3c333ae6581a815090cf000b8c0187d8db4413f2b38576b10d1519fbe00000000266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b5630000000500000000069f6b5800000001000000008e40067cedaa247f21a9505f37cf18867c8c3bc632b77e314ac7e43bc9b7197900000000266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b563000000050000000001c9c3800000000100000000000000000000000b000000000000000000000001000000011083871f7bf3d99e3e698b4fd3823093ea8f0b92000000020000000900000001a33d56e4797f207c56ec27c6b5ae5a3c6f11cc4d5dd790287f40728d82ecc26e0ea1ee8f08f25c8722b895a77c3da6fdc6d76c2243eb7435f35ed924443a1248010000000900000001a33d56e4797f207c56ec27c6b5ae5a3c6f11cc4d5dd790287f40728d82ecc26e0ea1ee8f08f25c8722b895a77c3da6fdc6d76c2243eb7435f35ed924443a124801d92ab042'
    }
  ])('$description', async ({ data }) => {
    const parsed = CreateSupernetTransaction.parse(data)
    expect(parsed).toBeInstanceOf(CreateSupernetTransaction)
  })
})

describe('AddPermissionlessValidatorTransaction', () => {
  test.each([
    {
      description: 'Parsing from PlatformAPI hex data',
      data: '0x0000000000190000002e000000000000000000000000000000000000000000000000000000000000000000000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b5630000000700000000010de9a8000000000000000000000001000000011efa97ef1ff043e4f7da45b1aeb06dfbf8677d3c0000000239ccb6ee711f1488cb8565ea55a893a97bb2a1a7f242788d9df4e7df3cadc0cf00000000266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b56300000005000000003b9aca00000000010000000039ccb6ee711f1488cb8565ea55a893a97bb2a1a7f242788d9df4e7df3cadc0cf00000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b5630000000500000000010de9a80000000100000000000000000e24ccc1a74f01fa4a60acc55b89e47a2b55ee390000000066742eaf00000000668e8c91000000003b9aca0000000000000000000000000000000000000000000000000000000000000000000000001c862881d58b87d740d4b6979cf7c6719acd259b812ddf56d06d0d021ee3abe43f18bcd89a169ee68749f95126e605ccfaaa450cbf39af5548c231be7ad213a93575c36acfb76a64a1cee093c26a8114aef793276872f42e3f3a2dd53c762f0957071322d1c9762a533dcad156491f9418b37f6b3d73707d17542cc10c5f75cd32c1361bbf10fae14b95c6d8f2a794cc1200000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b56300000007000000003b9aca00000000000000000000000001000000011efa97ef1ff043e4f7da45b1aeb06dfbf8677d3c0000000b000000000000000000000001000000011efa97ef1ff043e4f7da45b1aeb06dfbf8677d3c0000000b000000000000000000000001000000011efa97ef1ff043e4f7da45b1aeb06dfbf8677d3c0001d4c00000000200000009000000013fbac5bc73d4d871c16dea8998a885fb4d0d00d870997112eee7f1460b5299c77ffd0ce2525d24513bdd4f3dd910206e85bdf24c71479e189bef75e9979ca6900100000009000000013fbac5bc73d4d871c16dea8998a885fb4d0d00d870997112eee7f1460b5299c77ffd0ce2525d24513bdd4f3dd910206e85bdf24c71479e189bef75e9979ca6900115377636'
    }
  ])('$description', async ({ data }) => {
    const parsed = AddPermissionlessValidatorTransaction.parse(data)
    expect(parsed).toBeInstanceOf(AddPermissionlessValidatorTransaction)
  })
})

describe('AddPermissionlessDelegatorTransaction', () => {
  test.each([
    {
      description: 'Parsing from PlatformAPI hex data',
      data: '0x00000000001a0000002e000000000000000000000000000000000000000000000000000000000000000000000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b563000000070000000226f2b2f0000000000000000000000001000000014eabfc7c2777478e35893f1bc976690606609d2e0000000240c5426282568c885f900cee08362c3d663969d110a5e2da282bf0cae5beafdd00000000266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b5630000000500000000000f42400000000100000000cd95dc4f4eab6a9aeb7f26063c4927fac0966abc625913cf1ee1f1f0d2a951b500000000266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b56300000005000000022cd951b0000000010000000000000000243fbd5c5a5282ca9b8900b563bdc114ebbada3e0000000066742b8a000000006686a08a0000000005f5e100000000000000000000000000000000000000000000000000000000000000000000000001266ecea3035b1435f5cbb17dfc33cc1f4e9b058677915cc52c7ccfae1507b563000000070000000005f5e100000000000000000000000001000000014eabfc7c2777478e35893f1bc976690606609d2e0000000b000000000000000000000001000000014eabfc7c2777478e35893f1bc976690606609d2e000000020000000900000001746c8ce2b238aa5e9be146ebcd5a9cf0babc7cc8385e98ddf072c39457f2f0060eb32992d81337ca341f729067ca42d6c9bccf549c2885531373d56a785cc7b3010000000900000001746c8ce2b238aa5e9be146ebcd5a9cf0babc7cc8385e98ddf072c39457f2f0060eb32992d81337ca341f729067ca42d6c9bccf549c2885531373d56a785cc7b301be2d293c'
    }
  ])('$description', async ({ data }) => {
    const parsed = AddPermissionlessDelegatorTransaction.parse(data)
    expect(parsed).toBeInstanceOf(AddPermissionlessDelegatorTransaction)
  })
})
